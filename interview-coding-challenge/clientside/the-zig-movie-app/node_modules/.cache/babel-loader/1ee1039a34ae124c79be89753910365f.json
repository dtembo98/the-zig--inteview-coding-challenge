{"ast":null,"code":"var _jsxFileName = \"/home/trojan/Desktop/Workspace/workspace-David/workspace/react/Movie-app-with type script/the-zig-movie-app/src/pages/details/movie-details.component.tsx\";\nimport * as React from \"react\";\nimport \"./movie-details.style.css\";\nimport { withRouter } from \"react-router\";\nimport { config } from \"../../config\";\nimport MovieInfo from \"../../components/movie-info/movie-info.component\";\nimport Actors from \"../../components/actors/actors-list.component\";\n\nclass MovieDetails extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movie: [],\n      actors: [],\n      directors: []\n    };\n  }\n\n  componentDidMount() {\n    const movieid = this.props.match.params.movieid;\n    const API_URL = `${config.BASE_URL}${movieid}?api_key=${config.API_KEY}&language=en-US&page=1}`;\n    fetch(API_URL).then(results => results.json()).then(data => {\n      this.setState({\n        movie: data\n      }, () => console.log(this.state));\n    }); //fetch movie credits\n\n    const credits_endpoint = `${config.BASE_URL}${movieid}/credits?api_key=${config.API_KEY}&language=en-US&page=1}`;\n    fetch(credits_endpoint).then(results => results.json()).then(data => {\n      const directors = data.crew.filter(member => member.job === \"Director\");\n      this.setState({\n        directors,\n        actors: [...data.cast]\n      }, () => console.log(this.state));\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"details-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(MovieInfo, {\n      movie: this.state.movie,\n      directors: this.state.directors,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Cast\"), React.createElement(Actors, {\n      cast: this.state.actors,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(MovieDetails);","map":{"version":3,"sources":["/home/trojan/Desktop/Workspace/workspace-David/workspace/react/Movie-app-with type script/the-zig-movie-app/src/pages/details/movie-details.component.tsx"],"names":["React","withRouter","config","MovieInfo","Actors","MovieDetails","Component","state","movie","actors","directors","componentDidMount","movieid","props","match","params","API_URL","BASE_URL","API_KEY","fetch","then","results","json","data","setState","console","log","credits_endpoint","crew","filter","member","job","cast","render"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,2BAAP;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,OAAOC,SAAP,MAAsB,kDAAtB;AACA,OAAOC,MAAP,MAAmB,+CAAnB;;AAOA,MAAMC,YAAN,SAA2BL,KAAK,CAACM,SAAjC,CAAsD;AAAA;AAAA;AAAA,SACpDC,KADoD,GAC5C;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,MAAM,EAAE,EAFF;AAGNC,MAAAA,SAAS,EAAE;AAHL,KAD4C;AAAA;;AAMpDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,OAAO,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,OAAxC;AACA,UAAMI,OAAO,GAAI,GAAEd,MAAM,CAACe,QAAS,GAAEL,OAAQ,YAAWV,MAAM,CAACgB,OAAQ,yBAAvE;AACAC,IAAAA,KAAK,CAACH,OAAD,CAAL,CACGI,IADH,CACSC,OAAD,IAAaA,OAAO,CAACC,IAAR,EADrB,EAEGF,IAFH,CAESG,IAAD,IAAU;AACd,WAAKC,QAAL,CAAc;AAAEhB,QAAAA,KAAK,EAAEe;AAAT,OAAd,EAA+B,MAAME,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAjB,CAArC;AACD,KAJH,EAHkB,CAQlB;;AACA,UAAMoB,gBAAgB,GAAI,GAAEzB,MAAM,CAACe,QAAS,GAAEL,OAAQ,oBAAmBV,MAAM,CAACgB,OAAQ,yBAAxF;AACAC,IAAAA,KAAK,CAACQ,gBAAD,CAAL,CACGP,IADH,CACSC,OAAD,IAAaA,OAAO,CAACC,IAAR,EADrB,EAEGF,IAFH,CAESG,IAAD,IAAU;AACd,YAAMb,SAAS,GAAGa,IAAI,CAACK,IAAL,CAAUC,MAAV,CACfC,MAAD,IAAiBA,MAAM,CAACC,GAAP,KAAe,UADhB,CAAlB;AAGA,WAAKP,QAAL,CACE;AACEd,QAAAA,SADF;AAEED,QAAAA,MAAM,EAAE,CAAC,GAAGc,IAAI,CAACS,IAAT;AAFV,OADF,EAKE,MAAMP,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAjB,CALR;AAOD,KAbH;AAcD;;AAED0B,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWC,KAA7B;AAAoC,MAAA,SAAS,EAAE,KAAKD,KAAL,CAAWG,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAGE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAE,KAAKH,KAAL,CAAWE,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF;AAOD;;AAxCmD;;AA0CtD,eAAeR,UAAU,CAACI,YAAD,CAAzB","sourcesContent":["import * as React from \"react\";\nimport \"./movie-details.style.css\";\nimport { withRouter } from \"react-router\";\nimport { config } from \"../../config\";\nimport MovieInfo from \"../../components/movie-info/movie-info.component\";\nimport Actors from \"../../components/actors/actors-list.component\";\ntype propTypes = {\n  match: any;\n  location: any;\n  history: any;\n};\n\nclass MovieDetails extends React.Component<propTypes> {\n  state = {\n    movie: [],\n    actors: [],\n    directors: [],\n  };\n  componentDidMount() {\n    const movieid = this.props.match.params.movieid;\n    const API_URL = `${config.BASE_URL}${movieid}?api_key=${config.API_KEY}&language=en-US&page=1}`;\n    fetch(API_URL)\n      .then((results) => results.json())\n      .then((data) => {\n        this.setState({ movie: data }, () => console.log(this.state));\n      });\n    //fetch movie credits\n    const credits_endpoint = `${config.BASE_URL}${movieid}/credits?api_key=${config.API_KEY}&language=en-US&page=1}`;\n    fetch(credits_endpoint)\n      .then((results) => results.json())\n      .then((data) => {\n        const directors = data.crew.filter(\n          (member: any) => member.job === \"Director\"\n        );\n        this.setState(\n          {\n            directors,\n            actors: [...data.cast],\n          },\n          () => console.log(this.state)\n        );\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"details-page\">\n        <MovieInfo movie={this.state.movie} directors={this.state.directors} />\n        <h2>Cast</h2>\n        <Actors cast={this.state.actors} />\n      </div>\n    );\n  }\n}\nexport default withRouter(MovieDetails);\n"]},"metadata":{},"sourceType":"module"}